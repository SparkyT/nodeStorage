<?xml encoding="ISO-8859-1" version="1.0"?>
<!-- OPML generated by OPML Editor v0.75 on 2/21/15; 12:58:31 PM -->
<opml version="2.0">
	<head>
		<title>lib/comments.js</title>
		<expansionState></expansionState>
		<vertScrollState>1</vertScrollState>
		<windowTop>300</windowTop>
		<windowLeft>700</windowLeft>
		<windowBottom>900</windowBottom>
		<windowRight>1500</windowRight>
		</head>
	<body text="lib/comments.js">
		<outline text=""></outline>
		<outline text="exports.addComment = addComment; "></outline>
		<outline text=""></outline>
		<outline isComment="true" text="Notes"></outline>
		<outline text=""></outline>
		<outline text=""></outline>
		<outline isComment="true" text="function addComment (snCommenter, snAuthor, idComment, urlOpmlFile, callback) {">
			<outline isComment="true" text="Changes">
				<outline text="2/21/15; 12:41:59 PM by DW">
					<outline text="Created. "></outline>
					<outline text="The screenName of the person writing the comment is called &quot;snCommenter&quot;."></outline>
					<outline text="The screenName of the person who wrote the post being commented on is &quot;snAuthor&quot;."></outline>
					<outline text="The ID of the post being commented on (a numerical representation of its creation date) is &quot;idComment&quot;."></outline>
					</outline>
				</outline>
			<outline created="Thu, 15 May 2014 15:40:17 GMT" pgfnum="41633" text="var s3path = s3PrivatePath + &quot;users/&quot; + snAuthor + &quot;/comments/&quot; + idComment + &quot;.json&quot;, now = new Date (), flprivate = true;"></outline>
			<outline created="Tue, 22 Jul 2014 13:24:40 GMT" pgfnum="43027" text="console.log (&quot;addComment: s3path == &quot; + s3path); "></outline>
			<outline isComment="true" text="console.log (&quot;addComment: snCommenter == &quot; + snCommenter + &quot;, snAuthor == &quot; + snAuthor + &quot;, idComment == &quot; + idComment + &quot;, urlOpmlFile == &quot; + urlOpmlFile);"></outline>
			<outline text="s3.getObject (s3path, function (error, data) {">
				<outline text="var jstruct;"></outline>
				<outline text="if (error) {">
					<outline text="jstruct = new Object ();"></outline>
					<outline text="}"></outline>
					</outline>
				<outline text="else {">
					<outline text="jstruct = JSON.parse (data.Body.toString ());"></outline>
					<outline text="}"></outline>
					</outline>
				<outline text=""></outline>
				<outline text="var jstructsub = jstruct [snCommenter];"></outline>
				<outline text="if (jstructsub === undefined) {">
					<outline text="jstructsub = {">
						<outline text="whenCreated: now,"></outline>
						<outline text="ctUpdates: 0"></outline>
						<outline text="};"></outline>
						</outline>
					<outline text="}"></outline>
					</outline>
				<outline text="jstructsub.whenUpdated = now;"></outline>
				<outline text="jstructsub.ctUpdates++;"></outline>
				<outline text="jstructsub.urlOpmlFile = urlOpmlFile;"></outline>
				<outline text=""></outline>
				<outline text="s3.newObject (s3path, utils.jsonStringify (jstruct), type, getS3Acl (flprivate), function (error, data) {">
					<outline created="Fri, 02 May 2014 22:20:54 GMT" pgfnum="40903" text="if (error) {">
						<outline text="if (callback != undefined) {">
							<outline text="callback (error, undefined);"></outline>
							<outline text="}"></outline>
							</outline>
						<outline created="Fri, 02 May 2014 22:20:59 GMT" pgfnum="40905" text="}"></outline>
						</outline>
					<outline created="Fri, 02 May 2014 22:21:00 GMT" pgfnum="40906" text="else {">
						<outline text="var returnStruct = {">
							<outline text="filepath: s3path,"></outline>
							<outline text="commenter: snCommenter,"></outline>
							<outline text="author: snAuthor,"></outline>
							<outline text="id: idComment,"></outline>
							<outline text="urlComment: urlOpmlFile"></outline>
							<outline text="};"></outline>
							</outline>
						<outline text="if (callback != undefined) {">
							<outline text="callback (undefined, returnStruct);"></outline>
							<outline text="}"></outline>
							</outline>
						<outline created="Fri, 02 May 2014 22:21:02 GMT" pgfnum="40907" text="}"></outline>
						</outline>
					<outline created="Fri, 02 May 2014 17:31:21 GMT" pgfnum="40890" text="});"></outline>
					</outline>
				<outline text="});"></outline>
				</outline>
			<outline text="}"></outline>
			</outline>
		<outline text=""></outline>
		<outline text=""></outline>
		<outline text=""></outline>
		<outline text=""></outline>
		</body>
	</opml>
